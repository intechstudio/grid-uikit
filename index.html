<!doctype html>
<html lang="en" style="color-scheme: dark; transition: color-scheme 0.3s">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + Svelte + TS</title>
    <style>
      #fontSizeValue {
        display: inline-block;
        width: 3.5ch;
        text-align: right;
      }
      #controls {
        font-size: 16px;
      }
    </style>
  </head>
  <body>
    <div id="controls">
      <input type="checkbox" id="darkModeToggle" checked />
      <label for="darkModeToggle">Toggle Dark Mode</label>
      <input type="checkbox" id="disableButtonsToggle" />
      <label for="disableButtonsToggle">Disable Buttons</label>
      <label for="fontSizeSlider">Font Size: <span id="fontSizeValue">12</span>px</label>
      <input type="range" id="fontSizeSlider" min="8" max="36" step="0.1" value="12" />
    </div>
    <div id="app"></div>
    <script>
      const toggle = document.getElementById("darkModeToggle");
      toggle.addEventListener("change", (e) => {
        document.documentElement.setAttribute(
          "color-scheme",
          toggle.checked ? "dark" : "light",
        );
      });

      const disableToggle = document.getElementById("disableButtonsToggle");
      disableToggle.addEventListener("change", (e) => {
        if (window.setButtonsDisabled) {
          window.setButtonsDisabled(disableToggle.checked);
        }
      });

      const fontSizeSlider = document.getElementById("fontSizeSlider");
      const fontSizeValue = document.getElementById("fontSizeValue");

      fontSizeSlider.addEventListener("input", (e) => {
        const size = fontSizeSlider.value;
        document.body.style.fontSize = size + "px";
        fontSizeValue.textContent = parseFloat(size).toFixed(1);
      });
    </script>
    <script type="module" src="src/main.ts"></script>
  </body>
</html>
